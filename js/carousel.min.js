/*! (c) Mat Marquis (@wilto). MIT License. http://wil.to/3a */
(function(n,t){var i=0;n.fn.getPercentage=function(){return this.attr("style").match(/margin\-left:(.*[0-9])/i)&&parseInt(RegExp.$1)};n.fn.adjRounding=function(t){var u=n(this),r=u.find(t),f=u.parent().width()-n(r[0]).width(),i;if(f!==0)for(n(r).css("position","relative"),i=0;i<r.length;i++)n(r[i]).css("left",f*i+"px");return this};n.fn.carousel=function(r){var o;if(!this.data("carousel-initialized")){this.data("carousel-initialized",!0);var s={slider:".carousel",slide:".testimonial",prevSlide:null,nextSlide:null,slideHed:null,addPagination:!1,addNav:r!=t&&(r.prevSlide||r.nextSlide)?!1:!0,namespace:"carousel",speed:300},u=n.extend(s,r),e=this,c=document.body||document.documentElement,h=function(){var n="transitionProperty",u=document.createElement("tester"),f=u.style,s=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),e="Webkit Moz O ms Khtml".split(" "),i=n.charAt(0).toUpperCase()+n.substr(1),r=(n+" "+e.join(i+" ")+i).split(" ");for(var o in r)if(f[r[o]]!==t)return!0;return!1},f={init:function(){i++;e.each(function(t){var e=n(this),o=e.find(u.slider),s=e.find(u.slide),h=s.length,r="margin-left "+u.speed/1e3+"s ease",c="carousel-"+i+"-"+t;s.length<=1||(e.css({overflow:"hidden",width:"100%"}).attr("role","application"),o.attr("id",o[0].id||"carousel-"+i+"-"+t).css({marginLeft:"0px",float:"left",width:100*h+"%","-webkit-transition":r,"-moz-transition":r,"-ms-transition":r,"-o-transition":r,transition:r}).bind("carouselmove",f.move).bind("nextprev",f.nextPrev).bind("navstate",f.navState),s.css({float:"left",width:100/h+"%"}).each(function(t){var i=n(this);i.attr({role:"tabpanel document",id:c+"-slide"+t});u.addPagination&&i.attr("aria-labelledby",c+"-tab"+t)}),u.addPagination&&f.addPagination(),u.addNav&&f.addNav(),o.trigger("navstate",{current:0}))})},addNav:function(){e.each(function(){var t=n(this),r=t.find(u.slider),i=r[0].id,f=["",'\t<a href="#'+i+'" class="'+u.namespace+'-next"><\/a>','\t<a href="#'+i+'" class="'+u.namespace+'-prev"><\/a>',""].join(""),e={nextSlide:"."+u.namespace+"-next",prevSlide:"."+u.namespace+"-prev"};u=n.extend(u,e);t.prepend(f)})},addPagination:function(){e.each(function(t){var r=n(this),f=n('<ol class="'+u.namespace+'-tabs" role="tablist navigation" />'),h=r.find(u.slider),e=r.find(u.slide),o,s;for(slideNum=e.length,associated="carousel-"+i+"-"+t;slideNum--;)o=n(e[slideNum]).find(u.slideHed).text()||"Page "+(slideNum+1),s=['<li role="presentation">','<a href="#'+associated+"-slide"+slideNum+'"',' aria-controls="'+associated+"-slide"+slideNum+'"',' id="'+associated+"-tab"+slideNum+'" role="tab">'+o+"<\/a>","<\/li>"].join(""),f.prepend(s);f.appendTo(r).find("li").keydown(function(t){var i=n(this),r=i.prev().find("a"),u=i.next().find("a");switch(t.which){case 37:case 38:r.length&&r.trigger("click").focus();t.preventDefault();break;case 39:case 40:u.length&&u.trigger("click").focus();t.preventDefault()}}).find("a").click(function(t){var i=n(this);if(i.attr("aria-selected")=="false"){var f=i.parent().index(),e=-(100*f),o=r.find(u.slider);o.trigger("carouselmove",{moveTo:e})}t.preventDefault()})})},roundDown:function(n){var t=parseInt(n,10);return Math.ceil((t-t%100)/100)*100},navState:function(t,i){var s=n(this),h=s.find(u.slide),f=-(i.current/100),e=n(h[f]),r,c,o;s.attr("aria-activedescendant",e[0].id);e.addClass(u.namespace+"-active-slide").attr("aria-hidden",!1).siblings().removeClass(u.namespace+"-active-slide").attr("aria-hidden",!0);!u.prevSlide&&!u.nextSlide||(r=n('[href*="#'+this.id+'"]'),r.removeClass(u.namespace+"-disabled"),f==0?r.filter(u.prevSlide).addClass(u.namespace+"-disabled"):f==h.length-1&&r.filter(u.nextSlide).addClass(u.namespace+"-disabled"));!u.addPagination||(c=e.attr("aria-labelledby"),o=n("#"+c),o.parent().addClass(u.namespace+"-active-tab").siblings().removeClass(u.namespace+"-active-tab").find("a").attr({"aria-selected":!1,tabindex:-1}),o.attr({"aria-selected":!0,tabindex:0}))},move:function(t,i){var r=n(this);if(r.trigger(u.namespace+"-beforemove").trigger("navstate",{current:i.moveTo}),h())r.adjRounding(u.slide).css("marginLeft",i.moveTo+"%").one("transitionend webkitTransitionEnd OTransitionEnd",function(){n(this).trigger(u.namespace+"-aftermove")});else r.adjRounding(u.slide).animate({marginLeft:i.moveTo+"%"},{duration:u.speed,queue:!1},function(){n(this).trigger(u.namespace+"-aftermove")})},nextPrev:function(t,i){var e=n(this),r=e?e.getPercentage():0,s=e.find(u.slide),c=i.dir==="prev"?r!=0:-r<(s.length-1)*100,o=n('[href="#'+this.id+'"]'),h;if(!e.is(":animated")&&c){r=i.dir==="prev"?r%100!=0?f.roundDown(r):r+100:r%100!=0?f.roundDown(r)-100:r-100;e.trigger("carouselmove",{moveTo:r});o.removeClass(u.namespace+"-disabled").removeAttr("aria-disabled");switch(r){case-(s.length-1)*100:o.filter(u.nextSlide).addClass(u.namespace+"-disabled").attr("aria-disabled",!0);break;case 0:o.filter(u.prevSlide).addClass(u.namespace+"-disabled").attr("aria-disabled",!0)}}else h=f.roundDown(r),e.trigger("carouselmove",{moveTo:h})}};return f.init(this),n(u.nextSlide+","+u.prevSlide).bind("click",function(t){var i=n(this),r=this.hash,f=i.is(u.prevSlide)?"prev":"next",e=n(r);if(i.is("."+u.namespace+"-disabled"))return!1;e.trigger("nextprev",{dir:f});t.preventDefault()}).bind("keydown",function(t){var r=n(this),i=this.hash;switch(t.which){case 37:case 38:n("#"+i).trigger("nextprev",{dir:"next"});t.preventDefault();break;case 39:case 40:n("#"+i).trigger("nextprev",{dir:"prev"});t.preventDefault()}}),o={wrap:this,slider:u.slider},e.bind("dragSnap",o,function(t,i){var r=n(this).find(u.slider),f=i.direction==="left"?"next":"prev";r.trigger("nextprev",{dir:f})}),e.filter("[data-autorotate]").each(function(){var t,i=n(this),r=i.attr("data-autorotate"),e=i.find(u.slide).length,f=function(){var o=i.find(u.slider),s=-(n(u.slider).getPercentage()/100)+1;switch(s){case e:clearInterval(t);t=setInterval(function(){f();o.trigger("nextprev",{dir:"prev"})},r);break;case 1:clearInterval(t);t=setInterval(function(){f();o.trigger("nextprev",{dir:"next"})},r)}};t=setInterval(f,r);i.attr("aria-live","polite").bind("mouseenter click touchstart",function(){clearInterval(t)})}),this}}})(jQuery);$.event.special.dragSnap={setup:function(n){var t=$(this),i=function(n,t){var i=t?"margin-left "+.3+"s ease":"none";n.css({"-webkit-transition":i,"-moz-transition":i,"-ms-transition":i,"-o-transition":i,transition:i})},r=function(n){var n=parseInt(n,10);return Math.ceil((n-n%100)/100)*100},u=function(n,t){var u=t.target,e=u.attr("style")!=undefined?u.getPercentage():0,o=t.left===!1?r(e)-100:r(e),f=document.body,s=function(){f.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");return!!(f.style.transition||f.style.webkitTransition||f.style.MozTransition)};i(u,!0);s()?u.css("marginLeft",o+"%"):u.animate({marginLeft:o+"%"},opt.speed)};t.bind("snapback",u).bind("touchstart",function(r){function o(n){var t=n.originalEvent.touches?n.originalEvent.touches[0]:n;if(f={time:(new Date).getTime(),coords:[t.pageX,t.pageY]},deltaX=Math.abs(u.coords[0]-t.pageX),deltaY=Math.abs(u.coords[1]-t.pageY),u&&!(deltaX<deltaY)&&!(deltaX<15))if(deltaX>=15)u.interacting=!0,e.css({"margin-left":h+(f.coords[0]-u.coords[0])/u.origin.width()*100+"%"}),n.preventDefault();else return}var s=r.originalEvent.touches?r.originalEvent.touches[0]:r,u={time:(new Date).getTime(),coords:[s.pageX,s.pageY],origin:$(r.target).closest(n.wrap),interacting:!1},f,e=$(r.target).closest(n.slider),h=e.attr("style")!=undefined?e.getPercentage():0;i(e,!1);t.bind("gesturestart",function(){t.unbind("touchmove",o).unbind("touchend",o)}).bind("touchmove",o).one("touchend",function(n){if(t.unbind("touchmove",o),i(e,!0),u&&f){var r=Math.abs(u.coords[0]-f.coords[0]),c=Math.abs(u.coords[1]-f.coords[1]),s=u.coords[0]>f.coords[0],h;if(r>20&&r>c)n.preventDefault();else{u.interacting&&t.trigger("snapback",{target:e,left:s});return}h=u.origin.width()/4;-r>h||r>h?u.origin.trigger("dragSnap",{direction:s?"left":"right"}):t.trigger("snapback",{target:e,left:s})}u=f=undefined})})}};$(document).ready(function(){$(".testimonials-carousel").carousel({namespace:"mr-rotato"})});
/*
//# sourceMappingURL=carousel.min.js.map
*/